import * as React from "react";
import { SVGProps } from "react";
import rawVariants from "../../config/body-variants.json";
import { validateBodySvgVariants } from "../../utils/validateBodySvg";
import { MensBodySVGConfiguration as BodyVariant } from "../../types/body-variants";

interface HeadshotProps extends SVGProps<SVGSVGElement> {
  variantId: string;
  accessoryColor: string;
  skinColor: string;
  suitColor?: string;
  shirtColor?: string;
  lapelColor?: string;
  collarColor?: string;
  tieType?: string;
  pocketSquareType?: string;
}

// if (!validateBodySvgVariants(rawVariants)) {
//   throw new Error("Invalid JSON data");
// }
const variants: BodyVariant[] = rawVariants as BodyVariant[];

const defaultVariant: BodyVariant = {
  id: "default",
  suitColor: "#1c2546",
  shirtColor: "#ffffff",
  lapelColor: "#2b3763",
  collarColor: "#ffffff",
  tieType: "tie",
  pocketSquareType: "none",
};

const Headshot: React.FC<HeadshotProps> = ({
  variantId,
  accessoryColor,
  skinColor,
  suitColor = defaultVariant.suitColor,
  shirtColor = defaultVariant.shirtColor,
  lapelColor = defaultVariant.lapelColor,
  collarColor = defaultVariant.collarColor,
  tieType = defaultVariant.tieType,
  pocketSquareType = defaultVariant.pocketSquareType,
  ...svgProps
}) => {
  const variant = variants.find((v) => v.id === variantId) || defaultVariant;

  return (
    <svg
      width="44mm"
      height="72mm"
      viewBox="0 0 44 72"
      xmlns="http://www.w3.org/2000/svg"
      {...svgProps}
    >
      <path
        id="Head"
        d="M22 12.754c-.529 0-1.219.002-1.64.044-2.26.23-3.55 1.135-5.432 2.713-2.842 2.911-2.595 6.566-2.832 10.823 0 .005-.013.052-.013.052s-2.346.268-2.614 1.807c-.173.998.301 3.653.859 4.766.804 1.607 2.29 1.125 2.29 1.125.049.028.464 5.204 1.445 6.982.161.292.75.797 1.412 1.302.085.602.15 1.25.125 1.741-.031.627-.86 6.518-1.023 7.233.003-.002 3.055 1.886 3.055 1.886L22 52.994l4.368.234s3.051-1.888 3.055-1.886c-.164-.715-.992-6.606-1.023-7.233-.025-.492.04-1.14.125-1.741.662-.505 1.25-1.01 1.412-1.302.981-1.778 1.396-6.954 1.444-6.982 0 0 1.487.482 2.291-1.125.558-1.113 1.032-3.768.858-4.766-.268-1.54-2.613-1.807-2.613-1.807l-.013-.052c-.237-4.257.01-7.912-2.832-10.823-1.882-1.578-3.173-2.482-5.432-2.713-.421-.043-1.112-.044-1.64-.044"
        fill={skinColor}
        fillRule="evenodd"
      />
      <path
        d="m15.279 46.993-3.003.879c-.59.312-1.3.646-1.809.872-2.409 1.071-6.512 2.196-8.65 3.339-.762.433-1.357.77-1.817 1.142V72h44V53.225c-.46-.373-1.055-.71-1.817-1.142-2.138-1.143-6.241-2.268-8.65-3.34a32 32 0 0 1-1.809-.871l-3.003-.879c-1.173 1.308-2.336 3.375-6.722 4.55-4.385-1.175-5.548-3.242-6.721-4.55z"
        fill={shirtColor}
        fillRule="evenodd"
        id="Shirt"
      />
      {tieType === "tie" && (
        <g fillRule="evenodd" id="TieGroup">
          <path
            d="m22 51.407-.769.012c.023-.007-.837.309-2.124 1.724l1.084 2.15L18.121 72h7.759l-2.071-16.707 1.084-2.15c-1.287-1.415-2.147-1.73-2.124-1.724z"
            fill={accessoryColor}
            id="Tie"
          />
          <path
            d="m20.191 55.295-2.07 16.704h7.759l-2.07-16.704H22z"
            fill="#000"
            fillOpacity={0.091}
            id="TieTint"
          />
        </g>
      )}
      <g fillRule="evenodd" id="CollarGroup">
        <path
          d="M11.631 48.198q-.21.104-.415.201c.067.236.192.447.352.717.191.322.438.69.711 1.07a23 23 0 0 0 1.684 2.09c1.299 1.391 2.233 2.354 3.386 3.644l.426.477.305-.559c.411-.75.826-1.349 1.643-2.219.82-.874 1.38-1.348 2.146-1.826l.13-.082.132.082c.766.478 1.326.952 2.146 1.826.817.87 1.232 1.468 1.643 2.22l.305.558.426-.477c1.153-1.29 2.087-2.253 3.386-3.644.495-.53 1.138-1.33 1.684-2.09.272-.38.52-.748.71-1.07.161-.27.286-.481.353-.717l-.415-.201c-.135.633-1.725 2.768-2.662 3.771-1.296 1.389-2.233 2.355-3.393 3.652-.425-.776-.873-1.42-1.709-2.31-.825-.88-1.443-1.403-2.225-1.894a.84.84 0 0 0-.38-.019.84.84 0 0 0-.38.019c-.782.491-1.4 1.015-2.226 1.894-.835.89-1.283 1.534-1.708 2.31-1.16-1.297-2.097-2.263-3.394-3.652-.936-1.003-2.526-3.138-2.66-3.771z"
          color="#000"
          fillOpacity={0.22}
          id="CollarShadow"
        />
        <path
          d="M15.043 46.233a.4.4 0 0 0-.156.033c-.724.344-2.656 1.448-2.939 1.633-.157.102-.333.213-.32.28.107.61 1.72 2.777 2.665 3.79 1.296 1.388 2.233 2.354 3.393 3.652.425-.776.873-1.42 1.709-2.31.835-.891 1.44-1.402 2.236-1.9l-6.374-5.138.003-.005s-.102-.037-.217-.035m13.914 0c-.115-.002-.217.035-.217.035l.003.005-6.374 5.138c.797.498 1.4 1.009 2.236 1.9.836.89 1.284 1.534 1.71 2.31 1.159-1.298 2.096-2.264 3.392-3.652.946-1.013 2.558-3.18 2.666-3.79.012-.067-.164-.178-.321-.28-.282-.186-2.216-1.29-2.94-1.633a.4.4 0 0 0-.155-.033"
          fill={collarColor}
          id="Collar"
        />
      </g>
      {tieType === "bowtie" && (
        <g fillRule="evenodd" id="BowtieGroup">
          <path
            id="Bowtie"
            d="M15.995 50.022a.6.6 0 0 0-.136.016c-.967.265-.773 2.923-.7 3.83s.553 3.091.847 3.427 3.127-1.042 3.826-1.68c.32-.292.653-.66.922-.975l.001.001c.059.053.316.286.514.336.085.021.357.033.731.04.375-.007.647-.019.732-.04.198-.05.455-.283.513-.336h.001c.27.314.603.682.923.974.699.638 3.53 2.016 3.825 1.68s.773-2.52.847-3.427.268-3.565-.7-3.83a.6.6 0 0 0-.135-.016c-.5-.006-1.884.379-4.59 1.935-.375-.302-.782-.596-1.416-.596s-1.04.294-1.416.596c-2.706-1.556-4.09-1.94-4.589-1.935"
            fill={accessoryColor}
          />
          <path
            id="BowtieShadow"
            d="M22 51.361c-.637 0-1.044.297-1.421.6-.336.269-.285 1.58-.151 2.05.068.239.16.48.327.63.058.053.315.286.513.336.085.021.357.033.732.04.375-.007.647-.019.732-.04.198-.05.455-.283.513-.336.167-.15.259-.391.327-.63.134-.47.185-1.781-.15-2.05-.378-.303-.785-.6-1.422-.6M17.096 53.1c-.09.002-.145.029-.162.096-.46 1.789 1.982.496 2.755.647.178.035.365.049.548.05-.041-.212-.092-.31-.095-.592-1.598.262-2.656-.208-3.046-.201m9.808 0c-.39-.007-1.448.463-3.046.201-.003.283-.054.38-.095.592a3 3 0 0 0 .548-.05c.773-.151 3.215 1.142 2.755-.647-.017-.067-.072-.094-.162-.096"
            fillOpacity={0.13}
          />
        </g>
      )}
      <path
        d="m14.188 46.627-.026.014a51 51 0 0 0-.91.502c-.305.17-.595.337-.828.472l-.06.035q-.336.215-.664.447l-.07.096-.007.01c-.412.201-.827.395-1.156.541-2.41 1.072-6.513 2.197-8.65 3.339-.763.433-1.358.77-1.817 1.142V72h15.903l-.002-.018c-.46-3.474-1.398-10.689-1.659-13.863-.137-1.672-.165-4.076-.148-6.368.013-1.812.054-3.553.09-4.807zm15.624 0 .005.317c.035 1.254.076 2.995.09 4.807.016 2.291-.011 4.696-.149 6.368-.26 3.174-1.198 10.39-1.658 13.863l-.003.018H44V53.225c-.46-.372-1.054-.709-1.817-1.142-2.138-1.142-6.241-2.268-8.65-3.339a36 36 0 0 1-1.157-.542l-.006-.01-.07-.095q-.329-.232-.665-.447l-.06-.036a69 69 0 0 0-1.738-.973z"
        fill={suitColor}
        fillRule="evenodd"
        id="Suit"
      />
      <g fillRule="evenodd" id="LapelGroup">
        <path
          id="LapelShadow"
          d="m8.362 52.896-.4.51 1.358 1.941-1.94 2.032c1.032 1.154 3.149 8.414 4.359 14.621h.434c-.351-1.737-2.3-11.132-4.164-14.948l1.862-2zm27.276 0-1.508 2.156 1.861 2C34.127 60.868 32.18 70.262 31.827 72h.435c1.21-6.207 3.327-13.467 4.359-14.621l-1.94-2.033 1.357-1.94z"
          fillOpacity={0.15}
          fill="#000"
        />
        <path
          id="Lapel"
          d="m14.188 46.627-.026.014a51 51 0 0 0-.91.502c-.305.17-.595.337-.828.472l-.06.035q-.336.215-.664.447l-.07.096-3.431 4.7L9.7 55.042l-1.852 1.986.041.082c.922 1.885 1.878 5.189 2.64 8.229A156 156 0 0 1 12.038 72h3.866l-.003-.018c-.46-3.475-1.397-10.69-1.658-13.863-.138-1.673-.165-4.077-.149-6.369.014-1.812.055-3.553.09-4.807zm15.624 0 .005.317c.035 1.254.076 2.995.09 4.807.016 2.291-.011 4.696-.149 6.368-.26 3.174-1.198 10.39-1.658 13.863l-.003.018h3.866c.18-.887.748-3.643 1.506-6.662.763-3.04 1.72-6.343 2.64-8.229l.042-.081-1.852-1.987 1.502-2.148-3.431-4.7-.07-.097q-.328-.23-.664-.447l-.06-.035a69 69 0 0 0-1.738-.973z"
          fill={lapelColor}
          strokeWidth={0.265}
        />
      </g>

      {pocketSquareType !== "none" && (
        <g fillRule="evenodd" id="PocketGroup">
          <path
            transform="rotate(4.47)"
            d="M40.077 60.528v.429s2.977.12 4.464.118c1.134-.001 3.87-.197 4.35-.232l-.028-.347c-.494.023-3.188.15-4.316.15-1.489.002-4.47-.118-4.47-.118"
            fill="#fff"
            fillOpacity={0.211}
            id="PocketTint"
          />
          <path
            transform="rotate(4.47)"
            d="M40.077 60.099v.43l8.79.001-.034-.427z"
            fillOpacity={0.15}
            fill="#000"
            id="Pocket"
          />
          {pocketSquareType === "type1" && (
            <path
              d="M41.298 60.151c-1.292 1.16-3.245 2.261-4.775 3.463.986.111 2.311.254 3.162.32 1.124.086 3.82.17 4.315.186v-1.415c-.829-1.007-1.886-2.15-2.702-2.554"
              fill={accessoryColor}
              id="PocketSquare1"
            />
          )}
          {pocketSquareType === "type2" && (
            <path
              d="M36.396 62.547c-.282-.011-.378.46-.428.647l-.094.348c.95.11 2.75.31 3.811.393.714.054 2.866.143 4.315.198v-.777c-1.285-.092-3.669-.233-4.315-.283-1.085-.083-2.51-.362-3.196-.506a.3.3 0 0 0-.093-.02"
              fill={accessoryColor}
              id="PocketSquare2"
            />
          )}
        </g>
      )}
      <g fillRule="evenodd" id="Tints">
        <path
          id="NeckShadow"
          d="M15.625 42.48c1.954 1.935 4.277 3.75 6.375 3.725 2.099.026 4.422-1.79 6.376-3.725-.818.613-1.706 1.201-2.032 1.382l-.004.003-.529.293-.178.098c-.866.468-1.805.892-3.1.957h-.01l-.146.006h-.055a7 7 0 0 1-.321 0H22a7 7 0 0 1-.321 0h-.055l-.146-.006h-.01c-1.296-.065-2.235-.49-3.1-.957l-.179-.098-.527-.293q-.003 0-.005-.003c-.326-.181-1.214-.77-2.032-1.382"
          fillOpacity={0.2}
          fill="#000"
        />
        <path
          id="RightTint"
          d="m28.729 46.309 1.219.645.016.606c-.005-.209-.01-.433-.016-.621.285.15 1.08.57 1.784.944l-.008-.011c.59.312 1.3.646 1.808.872 2.409 1.071 6.512 2.197 8.65 3.339.763.433 1.357.77 1.817 1.142V72h-22V51.407h.362l.006.005c2.17-1.812 4.422-3.113 6.362-5.103"
          fill="#666"
          fillOpacity={0.15}
        />
        <path
          id="HeadTint"
          d="M22 12.754v5.297h.001V45.22H22v.986h.001v5.202h.362q-.002 0 .005.006c2.171-1.813 4.423-3.113 6.362-5.104l.04.02c-.165-.714-.34-1.593-.37-2.22-.025-.492.04-1.139.125-1.741.663-.505 1.25-1.01 1.412-1.302.981-1.778 1.396-6.953 1.444-6.981 0 0 1.487.481 2.291-1.125.558-1.114 1.032-3.768.858-4.766-.268-1.54-2.613-1.808-2.613-1.808l-.013-.05c-.237-4.259.01-7.914-2.832-10.825-2.291-1.922-3.76-2.543-7.072-2.757z"
          fill="#666"
          fillOpacity={0.123}
        />
      </g>
    </svg>
  );
};

export default Headshot;
